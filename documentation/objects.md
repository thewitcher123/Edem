# Описание объектов
Базой платформы является фреймворк электронной демократии и управления контентом [Edem](https://github.com/grandcore/Edem). По сути, мы имеем проекты, в рамках которых имеем таски, которые внутри имеют репозитории с даннымми, которыми управляем с помощью активностей, таски переходя друг в друга образуют процесс. Изменения могут передаваться в следующий таск для дальнейшей работы над репозиториями и/или отправляться в обработчик, который произведет с ними необходимые дейсткия (добавит, удалит или изменит данные на сайте, сделает сборку релиза итд), при закрытии таска, закрывается процесс.

## Проект
Проект, это базовая сущность, в рамках которой существуют таски для запуска процессов, репозитории и контент прошедший через обработчики, например, скомпилированные релизы приложений. Проект может меняться любым образом с помощью процессов в рамках этого проекта или внешних.  Можно перенести проект в другой раздел, поменять права, описания, удалить проект. Проект имеет ряд данных, например, название, теги, права доуступа. Всеми этими данными можно управлять с помощью соответствующих процессов. Визуальное представление страницы проекта и его функционал может меняться также с помощью процессов. Система по сути замкнутая, проекты могут создавать другие проекты, изменять любые данные внутри самой платформы.

## Процесс
Процесс является последовательностью тасков. У процесса может быть одна точка входа и одна точка выхода, между ними может быть неограниченное количество этапов в виде тасков. Имя процесса дается при его старте и передается в последующие таски, в которых оно с помощью активности может быть изменено, как и любая другая информация. По сути, мы имеет только таски, которые закрываются и передают информацию в следующий. Таким образом, может быть бесконечное количество циклов и созданных параллельных процессов. 

## Таск
Таск является этапом процесса. По сути процесс, это всего лишь история переходов между тасками. В рамках таска есть активности и репозитории с данными. Данными (репозиториями) можно управлять с помощью активностей, автоматических скриптов внутри таска и извне с помощью триггеров. Выход из таска может происходить с помощью решения лица с необходимыми правами или голосованем в определенных активностях, автоматически с помощью скриптов в таске и с помощью внешних триггеров. Любой таск имеет доступ к данным своих предков и любым другим данным платформы, кроме того можно создавать репозиторий с массивом технических данных с которыми могут взаимодействовать скрипты и внешние триггеры. 

### Активности
Активность, это задача для управления репозиториями, другими активностями, тасками, обработчиками, проектами. Активности могут создаваться как ответственными участниками, причем права на создание регулируются любым образом, так и автоматически на основе скрипта таска или внешних триггеров. С помощью Активности могут быть заморожены, пока не завершины определенные активности или они могут стать активными только когда данные в репозитории будут соответствовать определенным требованиям. Панель со списком тасков может иметь древовидное представление и теги для удобной фильтрации.

#### Типы активностей
- Создание нового проекта
- Создание нового процесса
- Изменение репозитория
- Управление другими активностями (открытие, заморозка, закрытие)
- Управление другими тасками
- Переход в новый таск
- Закрытие процесса
При создании активности можно параллельно автоматически создать другие активности, как в этом таске, так и в других.  

### Скрипты
Скрипты описываются в файле таска ([пример](https://github.com/grandcore/grandcore.org/edit/master/examples/taskscript.md)) вместе с остальными параметрами и алгоритмами. С помощь них можно, например, запретить открывать активности, пока не будет выполнена другая активность или репозиторий не будет соответствовать определенным требованиям, автоматически закрывать активности и таски или переходить на другой этап, если таск висит слишком долго, принимать данные голосования через определенное время, даже если проголосовали не все.

### Репозитории
Репозитории, это версиируемый набор файлов, данные в которых управляются с помощью активностей в тасках. В проекте может быть много репозиториев. Например, один для кода, второй для дизайн-макетов, третий обеспечивает служебные нужны проекта или приложения внутри проекта (например todo листа).

#### Вьюха репозитория
Для каждого типа репозитория может быть свое приложения для отображения данных. Например, для todo это список с чекбоксами. Участник имеющий права может поменять данные и либо они поменяются сразу без голосования или по его результатам, в зависимости от активности.

#### Предобработчики
После изменения данных в репозитории, они могут отправляться в специальный обработчик, где данные будут проверяться на корректность. 


#### Постобработчики
После выполнения активности данные могут пойти в обаботчик, который выполнит определенные действия на освнове данных в репозиториях. Например, соберет новый релиз для программы. 

## Связанные таски
С помощью активности можно создать параллельные таски (и соответственно процессы). Активности естественно имеют доступ к параллельным процессам. Таким образом можно замораживать активности параллельных тасков и производить любые другие манипуляции с данными. 


## Больба с конфликтами в ветках
Если пользователь пытается создать активность, для изменений в репозитории которые конфликтуют с другими открытыми запросами на изменения репозтория, ему об этом будет сообщено с указанием конфликтов и если он не захочет устранять этот конкликт, то во всех репозиториях, которые конфликтуют друг с другом появится предупреждение о том, что репозитори конфликтуют и в случае принятия активности первой, данный репозиторий будет в приоритете в решении конфликта.

